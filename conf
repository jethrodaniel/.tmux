#   _                                          __
#  | |_ _ __ ___  _   ___  __  ___ ___  _ __  / _|
#  | __| '_ ` _ \| | | \ \/ / / __/ _ \| '_ \| |_
#  | |_| | | | | | |_| |>  < | (_| (_) | | | |  _|
# (_)__|_| |_| |_|\__,_/_/\_(_)___\___/|_| |_|_|
#

#----------  Status bar ------------------------#
set -g status-left-length 32
set -g status-right-length 150

set -g pane-border-fg colour245
set -g pane-active-border-fg colour65

# Transparent bottom bar
set -g status-bg default

# Light-green text for the bottom bar
set -g status-fg colour65
set -g status-attr bright

#----------  Shortcuts ------------------------#
# Set tmux to vi mode
set-window-option -g mode-keys vi

# Use vi-style pane switching
bind k select-pane -U
bind j select-pane -D
bind l select-pane -R
bind h select-pane -L

# Use C-f instead of the default C-b
set -g prefix C-f
unbind C-b
bind C-f send-prefix

# Send the prefix to a tmux client inside a tmux session
bind-key f send-prefix

# Resize the current pane using Alt + direction
bind -n M-k resize-pane -U 5
bind -n M-j resize-pane -D 5
# H instead of h because M-h triggers window help, by default
bind -n M-H resize-pane -L 5
bind -n M-l resize-pane -R 5

#----------  Tmux Plugin Manager ------------------------#
set -g @plugin 'tmux-plugins/tpm'

set -g @plugin 'tmux-plugins/tmux-sensible'      # Better defaults
set -g @plugin 'tmux-plugins/tmux-online-status' # Show online status
set -g @plugin 'tmux-plugins/tmux-battery'       # Show battery status

set -g @plugin 'tmux-plugins/tmux-open' # Open highlighted text in copy-mode
set -g @open-S 'https://www.google.com/search?q='

set -g @plugin 'tmux-plugins/tmux-yank' # Use system clipboard in copy-mode

set -g @plugin 'tmux-plugins/tmux-resurrect' # Restore tmux after shutdowns
set -g @resurrect-processes 'false'          # Don't try to restore processes

set -g @plugin 'tmux-plugins/tmux-sidebar' # IDE-like pane
set -g @sidebar-tree-command 'tree -C'     # that shows the current directory
set -g @sidebar-tree 'e'                   # `prefix e` to open
set -g @sidebar-tree-focus 'w'             # `prefix w` to open and select
set -g @sidebar-tree-position 'right'      # Open on the right side

set -g @plugin 'tmux-plugins/tmux-pain-control' # Sensible pane shortcuts

set -g @plugin 'Morantron/tmux-fingers' # Vimium-like hints
set -g @fingers-copy-command-uppercase 'xargs xdg-open'

set -g status-right "web:#{online_status} batt: #{battery_percentage} | #(date '+%m-%d-%Y'), %H:%M"

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.tmux/plugins/tpm/tpm'
